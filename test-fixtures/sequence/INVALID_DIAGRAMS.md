# Invalid Sequence Diagrams

This file contains invalid sequence test fixtures with:
- GitHub render attempts
- Error from mermaid-cli
- Error/output from our linter

> Note: Auto-generated by `scripts/generate-invalid-preview.js`. Do not edit manually.

## Table of Contents

1. [And In Alt](#1-and-in-alt)
2. [And Outside Par](#2-and-outside-par)
3. [Autonumber Extraneous](#3-autonumber-extraneous)
4. [Autonumber Malformed](#4-autonumber-malformed)
5. [Box Unclosed](#5-box-unclosed)
6. [Create Malformed](#6-create-malformed)
7. [Create Missing Name](#7-create-missing-name)
8. [Critical Else](#8-critical-else)
9. [Destroy Malformed](#9-destroy-malformed)
10. [Else Outside Alt](#10-else-outside-alt)
11. [Missing Colon](#11-missing-colon)
12. [Note Malformed](#12-note-malformed)
13. [Option In Par](#13-option-in-par)
14. [Option Outside Critical](#14-option-outside-critical)
15. [Unmatched End](#15-unmatched-end)
16. [Wrong Arrow](#16-wrong-arrow)

---

## Summary

| # | Diagram | mermaid-cli | maid | Auto-fix? |
|---:|---|:---:|:---:|:---:|
| 1 | [And In Alt](#1-and-in-alt) | INVALID | INVALID | â€” |
| 2 | [And Outside Par](#2-and-outside-par) | INVALID | INVALID | â€” |
| 3 | [Autonumber Extraneous](#3-autonumber-extraneous) | INVALID | INVALID | â€” |
| 4 | [Autonumber Malformed](#4-autonumber-malformed) | INVALID | INVALID | â€” |
| 5 | [Box Unclosed](#5-box-unclosed) | INVALID | INVALID | â€” |
| 6 | [Create Malformed](#6-create-malformed) | INVALID | INVALID | â€” |
| 7 | [Create Missing Name](#7-create-missing-name) | INVALID | INVALID | â€” |
| 8 | [Critical Else](#8-critical-else) | INVALID | INVALID | â€” |
| 9 | [Destroy Malformed](#9-destroy-malformed) | INVALID | INVALID | â€” |
| 10 | [Else Outside Alt](#10-else-outside-alt) | INVALID | INVALID | â€” |
| 11 | [Missing Colon](#11-missing-colon) | INVALID | INVALID | â€” |
| 12 | [Note Malformed](#12-note-malformed) | INVALID | INVALID | â€” |
| 13 | [Option In Par](#13-option-in-par) | INVALID | INVALID | â€” |
| 14 | [Option Outside Critical](#14-option-outside-critical) | INVALID | INVALID | â€” |
| 15 | [Unmatched End](#15-unmatched-end) | INVALID | INVALID | â€” |
| 16 | [Wrong Arrow](#16-wrong-arrow) | INVALID | INVALID | â€” |

---

## 1. And In Alt

ðŸ“„ **Source**: [`and-in-alt.mmd`](./invalid/and-in-alt.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  alt Something
    A->B: one
  and
    A->C: two
  end


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 4:
...ing    A->B: one  and    A->C: two  
---------------------^
Expecting 'SPACE', 'NEWLINE', 'create', 'box', 'end', 'autonumber', 'activate', 'deactivate', 'title', 'legacy_title', 'acc_title', 'acc_descr', 'acc_descr_multiline_value', 'loop', 'rect', 'opt', 'alt', 'par', 'par_over', 'critical', 'break', 'else', 'participant', 'participant_actor', 'destroy', 'note', 'links', 'link', 'properties', 'details', 'ACTOR', got 'and'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  alt Something
    A->B: one
  and
    A->C: two
  end


```
</details>

---

## 2. And Outside Par

ðŸ“„ **Source**: [`and-outside-par.mmd`](./invalid/and-outside-par.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  participant A
  and Also not allowed
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 3:
...m  participant A  and Also not allowed
---------------------^
Expecting 'SPACE', 'NEWLINE', 'create', 'box', 'autonumber', 'activate', 'deactivate', 'title', 'legacy_title', 'acc_title', 'acc_descr', 'acc_descr_multiline_value', 'loop', 'rect', 'opt', 'alt', 'par', 'par_over', 'critical', 'break', 'participant', 'participant_actor', 'destroy', 'note', 'links', 'link', 'properties', 'details', 'ACTOR', got 'and'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  participant A
  and Also not allowed
  A->B: hi


```
</details>

---

## 3. Autonumber Extraneous

ðŸ“„ **Source**: [`autonumber-extraneous.mmd`](./invalid/autonumber-extraneous.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  autonumber 10 10 participant A
  A->B: ok


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 2:
...  autonumber 10 10 participant A  A->B
----------------------^
Expecting 'NEWLINE', got 'participant'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  autonumber 10 10 participant A
  A->B: ok


```
</details>

---

## 4. Autonumber Malformed

ðŸ“„ **Source**: [`autonumber-malformed.mmd`](./invalid/autonumber-malformed.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  autonumber 10 ten
  participant A
  participant B
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 2:
...ram  autonumber 10 ten  participant A
----------------------^
Expecting 'NEWLINE', 'NUM', got 'ACTOR'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  autonumber 10 ten
  participant A
  participant B
  A->B: hi


```
</details>

---

## 5. Box Unclosed

ðŸ“„ **Source**: [`box-unclosed.mmd`](./invalid/box-unclosed.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  box Aqua Group
    participant A
    participant B
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 5:
...    participant B  A->B: hi
----------------------^
Expecting 'SPACE', 'NEWLINE', 'end', 'participant', 'participant_actor', 'destroy', got 'ACTOR'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  box Aqua Group
    participant A
    participant B
  A->B: hi


```
</details>

---

## 6. Create Malformed

ðŸ“„ **Source**: [`create-malformed.mmd`](./invalid/create-malformed.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  create B
  participant A
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 2:
...nceDiagram  create B  participant A  
----------------------^
Expecting 'participant', 'participant_actor', 'destroy', got 'ACTOR'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  create B
  participant A
  A->B: hi


```
</details>

---

## 7. Create Missing Name

ðŸ“„ **Source**: [`create-missing-name.mmd`](./invalid/create-missing-name.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  create participant
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: Lexical error on line 2. Unrecognized text.
...  create participant  A->B: hi
-----------------------^
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  create participant
  A->B: hi


```
</details>

---

## 8. Critical Else

ðŸ“„ **Source**: [`critical-else.mmd`](./invalid/critical-else.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  critical Do critical
    A->B: try
  else Should not use else in critical
    A->B: nope
  end


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 4:
...cal    A->B: try  else Should not use 
---------------------^
Expecting 'SPACE', 'NEWLINE', 'create', 'box', 'end', 'autonumber', 'activate', 'deactivate', 'title', 'legacy_title', 'acc_title', 'acc_descr', 'acc_descr_multiline_value', 'loop', 'rect', 'opt', 'alt', 'par', 'par_over', 'critical', 'break', 'option', 'participant', 'participant_actor', 'destroy', 'note', 'links', 'link', 'properties', 'details', 'ACTOR', got 'else'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  critical Do critical
    A->B: try
  else Should not use else in critical
    A->B: nope
  end


```
</details>

---

## 9. Destroy Malformed

ðŸ“„ **Source**: [`destroy-malformed.mmd`](./invalid/destroy-malformed.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  destroy participant
  participant A
  participant B
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: The destroyed participant undefined does not have an associated destroying message after its declaration. Please check the sequence diagram.
SequenceDB.apply (node_modules/mermaid/dist/mermaid.js:125083:27)
node_modules/mermaid/dist/mermaid.js:125016:20
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  destroy participant
  participant A
  participant B
  A->B: hi


```
</details>

---

## 10. Else Outside Alt

ðŸ“„ **Source**: [`else-outside-alt.mmd`](./invalid/else-outside-alt.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  participant A
  else Not allowed here
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 3:
...m  participant A  else Not allowed her
---------------------^
Expecting 'SPACE', 'NEWLINE', 'create', 'box', 'autonumber', 'activate', 'deactivate', 'title', 'legacy_title', 'acc_title', 'acc_descr', 'acc_descr_multiline_value', 'loop', 'rect', 'opt', 'alt', 'par', 'par_over', 'critical', 'break', 'participant', 'participant_actor', 'destroy', 'note', 'links', 'link', 'properties', 'details', 'ACTOR', got 'else'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  participant A
  else Not allowed here
  A->B: hi


```
</details>

---

## 11. Missing Colon

ðŸ“„ **Source**: [`missing-colon.mmd`](./invalid/missing-colon.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  participant A
  participant B
  A->>B Message text without colon


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 4:
...e text without colon
-----------------------^
Expecting 'TXT', got 'NEWLINE'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  participant A
  participant B
  A->>B Message text without colon


```
</details>

---

## 12. Note Malformed

ðŸ“„ **Source**: [`note-malformed.mmd`](./invalid/note-malformed.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  participant A
  Note right of A Missing colon
  A->B: ok


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 3:
...t of A Missing colon  A->B: ok
-----------------------^
Expecting 'TXT', got 'NEWLINE'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  participant A
  Note right of A Missing colon
  A->B: ok


```
</details>

---

## 13. Option In Par

ðŸ“„ **Source**: [`option-in-par.mmd`](./invalid/option-in-par.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  par
    option Retry
    A->B: nope
  end


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 3:
...ceDiagram  par    option Retry    A->
---------------------^
Expecting 'SPACE', 'NEWLINE', 'create', 'box', 'end', 'autonumber', 'activate', 'deactivate', 'title', 'legacy_title', 'acc_title', 'acc_descr', 'acc_descr_multiline_value', 'loop', 'rect', 'opt', 'alt', 'par', 'par_over', 'critical', 'break', 'and', 'participant', 'participant_actor', 'destroy', 'note', 'links', 'link', 'properties', 'details', 'ACTOR', got 'option'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  par
    option Retry
    A->B: nope
  end


```
</details>

---

## 14. Option Outside Critical

ðŸ“„ **Source**: [`option-outside-critical.mmd`](./invalid/option-outside-critical.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  option Retry
  A->B: Should be inside critical


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 2:
sequenceDiagram  option Retry  A->B:
-----------------^
Expecting 'SPACE', 'NEWLINE', 'create', 'box', 'autonumber', 'activate', 'deactivate', 'title', 'legacy_title', 'acc_title', 'acc_descr', 'acc_descr_multiline_value', 'loop', 'rect', 'opt', 'alt', 'par', 'par_over', 'critical', 'break', 'participant', 'participant_actor', 'destroy', 'note', 'links', 'link', 'properties', 'details', 'ACTOR', got 'option'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  option Retry
  A->B: Should be inside critical


```
</details>

---

## 15. Unmatched End

ðŸ“„ **Source**: [`unmatched-end.mmd`](./invalid/unmatched-end.mmd)

âŒ **Error**: `end` keyword without matching `subgraph`.

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  participant A
  end
  A->B: hi


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 3:
...m  participant A  end  A->B: hi
---------------------^
Expecting 'SPACE', 'NEWLINE', 'create', 'box', 'autonumber', 'activate', 'deactivate', 'title', 'legacy_title', 'acc_title', 'acc_descr', 'acc_descr_multiline_value', 'loop', 'rect', 'opt', 'alt', 'par', 'par_over', 'critical', 'break', 'participant', 'participant_actor', 'destroy', 'note', 'links', 'link', 'properties', 'details', 'ACTOR', got 'end'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  participant A
  end
  A->B: hi


```
</details>

---

## 16. Wrong Arrow

ðŸ“„ **Source**: [`wrong-arrow.mmd`](./invalid/wrong-arrow.mmd)

### GitHub Render Attempt

> **Note**: This invalid diagram may not render or may render incorrectly.

```mermaid
sequenceDiagram
  participant A
  participant B
  A==>>B: Unknown arrow


```

### mermaid-cli Result: INVALID

```
Error: Parse error on line 4:
... participant B  A==>>B: Unknown arrow
----------------------^
Expecting 'NEWLINE', 'AS', ',', 'SOLID_OPEN_ARROW', 'DOTTED_OPEN_ARROW', 'SOLID_ARROW', 'BIDIRECTIONAL_SOLID_ARROW', 'DOTTED_ARROW', 'BIDIRECTIONAL_DOTTED_ARROW', 'SOLID_CROSS', 'DOTTED_CROSS', 'SOLID_POINT', 'DOTTED_POINT', 'TXT', got 'INVALID'
Parser3.parseError (node_modules/mermaid/dist/mermaid.js:123898:28)
    at #evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:388:19)
    at async ExecutionContext.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/ExecutionContext.js:275:16)
    at async IsolatedWorld.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/cdp/IsolatedWorld.js:97:16)
    at async CdpJSHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/JSHandle.js:146:20)
    at async CdpElementHandle.evaluate (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:340:20)
    at async CdpElementHandle.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/ElementHandle.js:494:24)
    at async CdpFrame.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Frame.js:450:20)
    at async CdpPage.$eval (node_modules/puppeteer-core/lib/esm/puppeteer/api/Page.js:450:20)
    at async renderMermaid (node_modules/@mermaid-js/mermaid-cli/src/index.js:266:22)
    at fromText (node_modules/mermaid/dist/mermaid.js:153955:21)
```

### maid Result: INVALID

```
file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140
                throw new Error(`Parser Definition Errors detected:\n ${defErrorsMsgs.join("\n-------------------------------\n")}`);
                      ^

Error: Parser Definition Errors detected:
 ->CONSUME2<- with argument: ->Identifier<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
->OPTION<-
appears more than once (2 times) in the top level rule: ->stateDecl<-.
For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES

-------------------------------
Ambiguous alternatives: <3 ,4> due to common lookahead prefix
in <OR> inside <statement> Rule,
<StateKw, Identifier> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.
    at file://node_modules/chevrotain/lib/src/parse/parser/parser.js:140:23
    at StateParser.TRACE_INIT (file://node_modules/chevrotain/lib/src/parse/parser/traits/perf_tracer.js:44:20)
    at StateParser.performSelfAnalysis (file://node_modules/chevrotain/lib/src/parse/parser/parser.js:66:14)
    at new StateParser (file://out/diagrams/state/parser.js:143:14)
    at file://out/diagrams/state/parser.js:146:31
    at ModuleJob.run (node:internal/modules/esm/module_job:371:25)
    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:683:26)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:101:5)

Node.js v24.7.0
```

### maid Auto-fix (`--fix`) Preview

No auto-fix changes (safe level).

### maid Auto-fix (`--fix=all`) Preview

No auto-fix changes (all level).

<details>
<summary>View source code</summary>

```
sequenceDiagram
  participant A
  participant B
  A==>>B: Unknown arrow


```
</details>

---

## Notes

This document captures outputs from both tools for each fixture. Use the summary table above to spot mismatches.

Generated by scripts/generate-invalid-preview.js (deterministic output)

## How to Regenerate

```bash
node scripts/generate-invalid-preview.js sequence
```
